<?php
include "./templates/header.php";
include "./templates/menu.php";
if (isset($_GET['id'])) {
    $id = Kernel::getInstance()->clean($_GET['id']);
    $books = Books::getBookById($id);
    if (isset($_SESSION['user_id'])) {
        $user = Users::getUserById($_SESSION['user_id']);
    }
    if (isset($_GET['action']) == 'add') {
        if (isset($_POST['book_count'])) {
            $count = $_POST['book_count'];
        }
        if(isset($count)) {
            if (isset($user)) {
                if ($count > 1) {
                    Kernel::getInstance()->addAlert("success",
                        "Vous venez d'ajouter ".$count." livres au panier !");
                } else {
                    Kernel::getInstance()->addAlert("success",
                        "Vous venez d'ajouter ".$count." livre au panier !");
                }
                Cart::getInstance()->addBookInCart($user, $books, $count);
            } else {
                Kernel::getInstance()->addAlert("danger",
                    "Vous devez vous connecter pour ajouter un article à votre panier.");
            }
        } else {
            Kernel::getInstance()->addAlert("danger",
                "Erreur. La quantité choisie est invalide.");
        }
    }
} else {
    Kernel::getInstance()->addAlert("danger",
        "Erreur, produit introuvable.");
    header("Refresh: 2;url=index.php");
    exit();
}
if (!empty($id) && $books != null) {
    ?>
    <main class="pt-4 mb-5">
        <div class="container dark-grey-text">
            <?php include './templates/Alerts.php'?>
            <h2 class=" mb-5 text-center"><?= $books->getTitle(); ?> </h2>
            <div class="mt-5 row wow fadeIn">
                <div class="col-md-6 mb-4 d-flex justify-content-center">
                    <img src="<?php if ($books->getJaquette() != null): ?><?= $books->getJaquette() ?><?php else: ?>data:image/jpeg;base64,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<?php endif; ?>" class="img-fluid product_img" alt="">
                </div>
                <div class="col-md-6 mb-4">
                    <div class="p-4">
                        <div class="mb-3">
                            <span class="badge badge-pill badge-danger mr-1 pt-1 pb-1 pl-2 pr-2"><?= $books->getFormat() ?></span>
                            <span class="badge badge-pill badge-warning mr-1 pt-1 pb-1 pl-2 pr-2"><?= $books->getCategory() ?></span>
                        </div>
                        <p class="lead">
                            <span>Prix : <?= $books->getPrice().' ' ?><i class="fas fa-euro-sign"></i></span>
                        </p>
                        <form class="d-flex justify-content-left" method="post" action="<?= "product.php?id=".$id."&action=add"; ?>">
                            <input name="book_count" type="number" value="1" aria-label="Search" class="form-control" min="1" style="width: 100px">
                            <button class="btn btn-success btn-md my-0 p" type="submit">Ajouter au panier
                                <i class="fas fa-shopping-cart ml-1"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row d-flex justify-content-center wow fadeIn">
                <div class="col-md-12 ">
                    <h4 class="my-4 h4">Résumé du livre</h4>
                    <p><?= $books->getDescription(); ?></p>
                </div>
            </div>
            <div class="row d-flex justify-content-center wow fadeIn">
                <div class="col-md-12 ">
                    <h4 class="my-4 h4">Auteur</h4>
                    <p><?= $books->getAuthorById($books->getId()) ?></p>
                </div>
            </div>
        </div>
    </main>
    <?php
} else {
    Kernel::getInstance()->addAlert("danger",
        "Erreur. Produit introuvable.");
    header("Refresh: 2;url=index.php");
    ?>
    <main role="main">
        <div class="album py-5 bg-light">

            <div class="row">
                <div class="container">
                    <div class="form_connection">
                        <h2 class="mb-5 text-center">Erreur sur le produit</h2>

                        <?php include './templates/Alerts.php'?>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <?php
}
include "./templates/footer.php";
?>